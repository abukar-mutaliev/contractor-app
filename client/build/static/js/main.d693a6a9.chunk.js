(this["webpackJsonpfinal-project-client"]=this["webpackJsonpfinal-project-client"]||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(13),r=a.n(i),o=a(171),s=a(131),l=a(12),j=a(17),d=a.n(j),b=a(26),u=a(50),p=a(9),O={items:[],loading:!1,deleting:!1,filter:""};var h=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"objects/load/pending"}),e.next=3,fetch("/api/home");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"objects/load/fulfilled",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=a(7),m=a(176),x=a(177),g=a(178),v=a(179),y=a(180),w=a(201),C=a(181),N={items:[],loading:!1};var k=function(){return function(){var e=Object(b.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"statuses/load/pending"}),e.next=3,fetch("/api/statuses");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"statuses/load/fulfilled",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=a(182),T=a(88),A=a.n(T),R=a(24),E=a(174),L=a(3),D=Object(o.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)},justifyContent:"center",marginTop:"50px"}}}));var W=function(){var e=D();return Object(L.jsx)("div",{className:e.root,children:Object(L.jsx)(E.a,{})})},I=Object(f.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(m.a),_=Object(f.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(x.a),z=Object(o.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),width:e.spacing(16),height:e.spacing(16)}},table:{backgroundColor:"#674fffc3",color:"white"},paper:{position:"fixed",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},link:{textDecoration:"none"},avatar:{width:e.spacing(15),height:e.spacing(15)},tableCont:{marginTop:"20px"}}}));function F(){var e=Object(l.c)((function(e){return e.objects.loading})),t=Object(l.b)(),a=Object(l.c)((function(e){var t=e.objects;return""===t.filter?t.items:t.items.filter((function(e){return-1!==e.objectName.toLowerCase().indexOf(t.filter.toLowerCase())}))}));Object(n.useEffect)((function(){t(h())}),[t]);var c=Object(l.c)((function(e){return e.statuses.items}));Object(n.useEffect)((function(){t(k())}),[t]);var i=z();return e?Object(L.jsx)(W,{}):Object(L.jsx)(s.a,{elevation:3,className:i.tableCont,component:s.a,children:Object(L.jsxs)(g.a,{"aria-label":"customized table",children:[Object(L.jsx)(v.a,{align:"center",children:Object(L.jsxs)(x.a,{className:i.table,children:[Object(L.jsx)(I,{className:i.table,align:"left",children:" "}),Object(L.jsx)(I,{className:i.table,align:"center",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430"}),Object(L.jsx)(I,{className:i.table,align:"left",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435"}),Object(L.jsx)(I,{className:i.table,align:"left",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(L.jsx)(I,{className:i.table,align:"left",children:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"})]})}),Object(L.jsx)(y.a,{children:a.map((function(e,t){var n,r=c.find((function(t){var a;return t._id===(null===(a=e.lastReport)||void 0===a?void 0:a.status)}));return Object(L.jsxs)(_,{children:[Object(L.jsx)(I,{align:"left",children:Object(L.jsxs)(w.a,{className:i.avatar,children:[" ",Object(L.jsx)("img",{alt:"img",width:"120",src:e.pathToImage})," "]})}),Object(L.jsxs)(I,{children:[" ",Object(L.jsx)(R.b,{className:i.link,to:"/object/".concat(e._id,"/report/"),children:Object(L.jsx)(I,{children:Object(L.jsx)(C.a,{color:"primary",children:e.objectName})})})]}),Object(L.jsx)(I,{align:"left",children:Object(L.jsxs)("div",{children:[" ",A()(null===(n=a[t].lastReport)||void 0===n?void 0:n.updatedAt).format("YY.MM.DD HH:mm")]})}),Object(L.jsxs)(I,{children:[" ",a[t].reports.length>0?Object(L.jsxs)("div",{children:[Object(L.jsx)(S.a,{size:"30",color:null===r||void 0===r?void 0:r.color}),null===r||void 0===r?void 0:r.report]}):"\u041d\u0435\u0442 \u0417\u0430\u043c\u0435\u0442\u043e\u043a"]}),Object(L.jsx)(I,{align:"left",children:e.reports.length})]},e.name)}))}),Object(L.jsx)(m.a,{className:i.tableCell,align:"center"})]})})}var H=a(16),J=a(21),P=a(199),B=a(184),M=a(185),V=a(186),Y=a(200),G=a(190),U=a(183),q=Object(f.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(m.a),K=Object(f.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(x.a),Q=Object(o.a)((function(e){return{table:{minWidth:700,width:"100%",margin:"auto"},tableRow:{backgroundColor:"#674fffc3"},adminDiv:{width:"100%",marginTop:30,margin:"auto"},tableCont:{width:"100%",marginTop:"20px",margin:"auto"},btnAdd:{width:250,height:50,margin:"auto"},avatar:{width:e.spacing(15),height:e.spacing(15)}}}));function X(){var e=Q(),t=Object(l.b)(),a=Object(n.useState)(""),i=Object(J.a)(a,2),r=i[0],o=i[1],j=Object(n.useState)(""),u=Object(J.a)(j,2),p=u[0],O=u[1],f=Object(n.useState)(""),m=Object(J.a)(f,2),N=m[0],k=m[1],S=Object(n.useState)(""),T=Object(J.a)(S,2),A=T[0],R=T[1],E=Object(l.c)((function(e){return e.objects.loading})),D=Object(l.c)((function(e){var t=e.objects;return""===t.filter?t.items:t.items.filter((function(e){return-1!==e.objectName.toLowerCase().indexOf(t.filter.toLowerCase())}))}));Object(n.useEffect)((function(){t(h())}),[t]);var I=c.a.useState(!1),_=Object(J.a)(I,2),z=_[0],F=_[1],H=function(){F(!1)},X=function(e){t(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"objects/delete/pending"}),t.next=3,fetch("/api/admin/object/".concat(e),{method:"DELETE"});case 3:a({type:"objects/delete/fulfilled",payload:e});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return E?Object(L.jsx)(W,{}):Object(L.jsxs)(s.a,{elevation:3,className:e.tableCont,component:s.a,children:[Object(L.jsxs)(g.a,{className:e.table,"aria-label":"customized table",children:[Object(L.jsx)(v.a,{children:Object(L.jsxs)(x.a,{className:e.adminDiv,children:[Object(L.jsx)(q,{className:e.tableRow,align:"right"}),Object(L.jsx)(q,{className:e.tableRow}),Object(L.jsx)(q,{className:e.tableRow,align:"left",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0435\u043a\u0442\u0430"}),Object(L.jsx)(q,{className:e.tableRow,align:"right"}),Object(L.jsx)(q,{className:e.tableRow,align:"right"})]})}),Object(L.jsx)(y.a,{children:D.map((function(t){return Object(L.jsxs)(K,{children:[Object(L.jsx)(q,{component:"th",scope:"row",children:t.name}),Object(L.jsxs)(w.a,{className:e.avatar,children:[Object(L.jsx)("img",{alt:"img",width:"190",src:t.pathToImage})," "]}),Object(L.jsx)(q,{align:"left",children:t.objectName}),Object(L.jsx)(q,{align:"left"}),Object(L.jsx)(q,{align:"left",children:Object(L.jsx)(C.a,{color:"primary",onClick:function(){return X(t._id)},children:Object(L.jsx)(U.a,{size:"30",color:"red"})})})]},t.name)}))})]}),Object(L.jsx)(s.a,{className:e.btnAdd,elevation:3,children:Object(L.jsx)(C.a,{className:e.btnAdd,variant:"outlined",color:"primary",onClick:function(){F(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u041e\u0431\u044a\u0435\u043a\u0442"})}),Object(L.jsxs)(P.a,{open:z,onClose:H,"aria-labelledby":"form-dialog-title",children:[Object(L.jsx)(B.a,{id:"form-dialog-title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u041e\u0431\u044a\u0435\u043a\u0442"}),Object(L.jsxs)(M.a,{children:[Object(L.jsx)(V.a,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430"}),Object(L.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",name:"objectName",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",variant:"outlined",type:"text",fullWidth:!0,value:r,onChange:function(e){o(e.target.value)}}),Object(L.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",label:"\u0410\u0434\u0440\u0435\u0441 \u041e\u0431\u044a\u0435\u043a\u0442\u0430",type:"text",name:"address",fullWidth:!0,value:p,onChange:function(e){O(e.target.value)}}),Object(L.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"name",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430",type:"text",fullWidth:!0,value:N,onChange:function(e){k(e.target.value)}}),Object(L.jsx)(Y.a,{value:A,autoFocus:!0,margin:"dense",id:"name",label:"",type:"text",fullWidth:!0,onChange:function(e){R(e.target.value)}})]}),Object(L.jsxs)(G.a,{children:[Object(L.jsx)(C.a,{onClick:H,color:"primary",children:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(L.jsx)(C.a,{onClick:function(){var e;t((e={name:r,address:p,description:N,image:A},function(){var t=Object(b.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"objects/post/pending"}),t.next=3,fetch("/api/admin/object",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({objectName:e.name,objectAddress:e.address,objectDescription:e.description,pathToImage:e.image})});case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,a({type:"objects/post/fulfilled",payload:c}),window.location.reload();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(){H()}))},color:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})]})}var Z=a(49),$=a(102),ee=Object(o.a)((function(e){return{text:{width:700,textAlign:"center",margin:"auto"},container:{marginTop:30,marginLeft:200},tableCont:{marginTop:"20px",textAlign:"center"}}}));var te=function(){var e=Object(l.c)((function(e){return e.objects.loading})),t=ee();return e?Object(L.jsx)(W,{}):Object(L.jsxs)("div",{children:[Object(L.jsx)(s.a,{elevation:3,className:t.tableCont,component:s.a,children:Object(L.jsx)($.a,{className:t.text,children:'\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u041e\u0411\u0429\u0415\u0421\u0422\u0412\u041e \u0421 \u041e\u0413\u0420\u0410\u041d\u0418\u0427\u0415\u041d\u041d\u041e\u0419 \u041e\u0422\u0412\u0415\u0422\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0421\u0422\u042c\u042e "\u0418\u043d\u0442\u043e\u0421\u0442\u0440\u043e\u0439" \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430 26.01.2022 \u0433. \u0432 \u0433\u043e\u0440\u043e\u0434\u0435 \u0413\u0440\u043e\u0437\u043d\u044b\u0439. \u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435: \u0418\u043d\u0442\u043e\u0421\u0442\u0440\u043e\u0439. \u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d \u041e\u0413\u0420\u041d 10216064442952, \u0418\u041d\u041d 1444400006 \u0438 \u041a\u041f\u041f 10000001. \u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441: \u0420\u0415\u0421\u041f\u0423\u0411\u041b\u0418\u041a\u0410 \u0427\u0415\u0427\u041d\u042f \u0420\u0410\u0419\u041e\u041d \u0413\u0440\u043e\u0437\u043d\u044b\u0439 \u0413\u041e\u0420\u041e\u0414 \u0410\u0420\u0421\u041a \u0423\u041b\u0418\u0426\u0410 \u0417\u0410\u0420\u0415\u0427\u041d\u0410\u042f 13. \u041a\u0443\u0434\u0443\u0437\u043e\u0432 \u0410\u0445\u043c\u0435\u0434 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u043e\u043c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u2014 \u041c\u0443\u0442\u0430\u043b\u0438\u0435\u0432 \u0410\u0431\u0443\u0431\u0430\u043a\u0440 \u041c\u0430\u0433\u043e\u043c\u0435\u0434\u043e\u0432\u0438\u0447, \u0410\u0436\u0438\u0433\u043e\u0432 \u0410\u0434\u0430\u043c, \u041c\u0443\u0442\u0430\u043b\u0438\u0435\u0432 \u041c\u0430\u0433\u043e\u043c\u0435\u0434 \u0425\u0443\u0441\u0435\u0439\u043d\u043e\u0432\u0438\u0447. \u0421\u0440\u0435\u0434\u043d\u0435\u0441\u043f\u0438\u0441\u043e\u0447\u043d\u0430\u044f \u0447\u0438\u0441\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c (\u0421\u0421\u0427) \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u043e\u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u2014 1. \u0412 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0415\u0413\u0420\u042e\u041b, \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u0438\u0434 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u041e\u0411\u0429\u0415\u0421\u0422\u0412\u041e \u0421 \u041e\u0413\u0420\u0410\u041d\u0418\u0427\u0415\u041d\u041d\u041e\u0419 \u041e\u0422\u0412\u0415\u0422\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0421\u0422\u042c\u042e "\u0418\u043d\u0442\u043e\u0421\u0442\u0440\u043e\u0439" \u043f\u043e \u041e\u041a\u0412\u042d\u0414: 41.2 \u0421\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0436\u0438\u043b\u044b\u0445 \u0438 \u043d\u0435\u0436\u0438\u043b\u044b\u0445 \u0437\u0434\u0430\u043d\u0438\u0439. \u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u2014 9. \u0417\u0430 2018 \u0433\u043e\u0434 \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u2014 89 000 \u20bd, \u0432\u044b\u0440\u0443\u0447\u043a\u0430 \u0437\u0430 2018 \u0433\u043e\u0434 \u2014 2 222 000 \u20bd. \u0420\u0430\u0437\u043c\u0435\u0440 \u0443\u0441\u0442\u0430\u0432\u043d\u043e\u0433\u043e \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0430 \u041e\u0411\u0429\u0415\u0421\u0422\u0412\u041e \u0421 \u041e\u0413\u0420\u0410\u041d\u0418\u0427\u0415\u041d\u041d\u041e\u0419 \u041e\u0422\u0412\u0415\u0422\u0421\u0422\u0412\u0415\u041d\u041d\u041e\u0421\u0422\u042c\u042e "\u0418\u043d\u0442\u043e\u0421\u0442\u0440\u043e\u0439" \u2014 10 050 \u20bd. \u0412\u044b\u0440\u0443\u0447\u043a\u0430 \u043d\u0430 \u043d\u0430\u0447\u0430\u043b\u043e 2018 \u0433\u043e\u0434\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 4 853 000 \u20bd, \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 \u2014 2 222 000 \u20bd. \u0421\u0435\u0431\u0435\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436 \u0437\u0430 2018 \u0433\u043e\u0434 \u2014 2 111 000 \u20bd. \u0412\u0430\u043b\u043e\u0432\u0430\u044f \u043f\u0440\u0438\u0431\u044b\u043b\u044c \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 2018 \u0433\u043e\u0434\u0430 \u2014 111 000 \u20bd. \u041e\u0431\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0439 \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u043d\u0430 2018 \u0433\u043e\u0434 \u2014 2 222 000 \u20bd. \u041d\u0430 05 \u0438\u044e\u043b\u044f 2021 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442. \u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441 \u0418\u043d\u0442\u043e\u0421\u0442\u0440\u043e\u0439, \u0432\u044b\u043f\u0438\u0441\u043a\u0430 \u0415\u0413\u0420\u042e\u041b, \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0430\u044f \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.'})}),Object(L.jsxs)(Z.a,{children:[Object(L.jsx)("meta",{charSet:"utf-8"}),Object(L.jsx)("title",{children:"\u041e \u043d\u0430\u0441"}),Object(L.jsx)("link",{rel:"canonical",href:"/"})]})]})},ae=a(99),ne=a(192),ce=a(70),ie=a(191),re=a(189),oe=a(203),se=a(197),le=a(204),je={items:[],loading:!0,editing:!1};var de=Object(o.a)((function(e){return{form:{display:"flex",margin:"auto",width:"fit-content"},input:{width:350},formControl:{marginTop:e.spacing(5),minWidth:20},formControlLabel:{marginTop:e.spacing(1)}}}));function be(e){var t=e.report,a=de(),i=c.a.useState(!1),r=Object(J.a)(i,2),o=r[0],s=r[1],j=c.a.useState(!0),u=Object(J.a)(j,1)[0],p=Object(n.useState)(""),O=Object(J.a)(p,2),h=O[0],f=O[1],m=Object(l.c)((function(e){return e.statuses.items})),x=Object(l.b)(),g=Object(n.useState)(t.report),v=Object(J.a)(g,2),y=v[0],w=v[1],N=Object(l.c)((function(e){return e.reports.loading}));Object(n.useEffect)((function(){x(k())}),[x]);var S=function(){s(!1)};return N?Object(L.jsx)(W,{}):Object(L.jsxs)(c.a.Fragment,{children:[Object(L.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(e){s(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(L.jsxs)(P.a,{fullWidth:u,open:o,onClose:S,"aria-labelledby":"max-width-dialog-title",children:[Object(L.jsxs)(M.a,{children:[Object(L.jsx)(V.a,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043e\u0442\u0447\u0435\u0442\u0430"}),Object(L.jsx)(Y.a,{className:a.input,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",variant:"outlined",value:y,name:"text",onChange:function(e){w(e.target.value)}}),Object(L.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(L.jsxs)(re.a,{className:a.formControl,children:[Object(L.jsx)(oe.a,{htmlFor:"max-width",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(L.jsx)(se.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:function(e){f(e.target.value)},SelectProps:{native:!0},children:m.map((function(e){return Object(L.jsx)(le.a,{value:e._id,children:e.status},e.value)}))})]}),Object(L.jsx)(C.a,{onClick:function(){var e,a;x((e=t._id,a={reportText:y,status:h},function(){var t=Object(b.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"reports/edit/pending"}),t.next=3,fetch("/api/object/".concat(e,"/report"),{method:"PATCH",body:JSON.stringify({status:a.status,report:a.reportText}),headers:{"Content-type":"application/json; charset=UTF-8"}});case 3:n({type:"reports/edit/fulfilled",payload:{id:e,data:a}}),window.location.reload();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(L.jsx)(G.a,{children:Object(L.jsx)(C.a,{onClick:S,color:"primary",children:"Close"})})]})]})}var ue=Object(o.a)((function(e){return{container:{display:"flex",height:160},root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(3),marginLeft:150,width:600,height:300},formControl:{margin:e.spacing(2),minWidth:120,minHeight:30},selectEmpty:{marginTop:e.spacing(2)},buttonAdd:{height:30},paper:{padding:e.spacing(3),textAlign:"center",color:e.palette.text.secondary},tableCont:{textAlign:"center",margin:"auto",marginTop:"20px"}}})),pe=Object(ae.a)({palette:{primary:ce.a}});function Oe(){var e=Object(H.g)().id,t=Object(n.useState)(""),a=Object(J.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),o=Object(J.a)(r,2),j=o[0],u=o[1],p=ue(),O=Object(l.b)(),f=Object(l.c)((function(e){return e.statuses.items})),w=Object(l.c)((function(e){return e.reports.items})),N=Object(l.c)((function(e){return e.reports.loading}));Object(n.useEffect)((function(){O(k())}),[O]),Object(n.useEffect)((function(){O(h())}),[O]),Object(n.useEffect)((function(){O(function(e){return function(){var t=Object(b.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"reports/load/pending"}),t.next=3,fetch("/api/object/".concat(e,"/report"));case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,a({type:"reports/load/fulfilled",payload:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}),[O]);var T=Object(l.c)((function(t){return t.objects.items.find((function(t){return t._id===e}))})),A=function(e){O(function(e,t){return function(){var a=Object(b.a)(d.a.mark((function a(n){var c,i;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"reports/post/pending"}),a.next=3,fetch("/api/object/".concat(e,"/report"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)});case 3:return c=a.sent,a.next=6,c.json();case 6:i=a.sent,n({type:"reports/post/fulfilled",payload:i});case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,{report:c,status:j}))};return N?Object(L.jsx)(W,{}):Object(L.jsxs)(s.a,{elevation:3,className:p.tableCont,component:s.a,children:[Object(L.jsx)($.a,{variant:"overline",display:"block",gutterBottom:!0,children:null===T||void 0===T?void 0:T.objectName}),Object(L.jsx)("img",{alt:"img",width:"600",src:null===T||void 0===T?void 0:T.pathToImage}),Object(L.jsx)(ie.a,{item:!0,xs:12,children:Object(L.jsx)(ie.a,{item:!0,xs:12,children:Object(L.jsx)(s.a,{className:p.paper,children:Object(L.jsx)($.a,{variant:"inline",align:"center",display:"block",gutterBottom:!0,children:null===T||void 0===T?void 0:T.objectDescription})})})}),Object(L.jsxs)(s.a,{className:p.container,children:[Object(L.jsx)("form",{className:p.root,noValidate:!0,children:Object(L.jsx)(ne.a,{theme:pe,children:Object(L.jsx)(Y.a,{className:p.margin,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",variant:"outlined",value:c,name:"text",onChange:function(e){i(e.target.value)}})})}),Object(L.jsxs)(re.a,{className:p.formControl,children:[Object(L.jsx)(oe.a,{id:"demo-simple-select-label",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(L.jsxs)(se.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,onChange:function(e){u(e.target.value)},SelectProps:{native:!0},children:[Object(L.jsx)("option",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441"}),f.map((function(e){return Object(L.jsx)(le.a,{value:e._id,children:e.status},e.value)}))]}),Object(L.jsx)(ne.a,{theme:pe,children:Object(L.jsx)(C.a,{onClick:function(){return A(T._id)},variant:"contained",type:"submit",color:"primary",className:p.buttonAdd,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]}),Object(L.jsx)(s.a,{elevation:3,className:p.tableCont,component:s.a,children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(v.a,{children:Object(L.jsxs)(x.a,{children:[Object(L.jsx)(m.a,{children:"\u2116"}),Object(L.jsx)(m.a,{children:"\u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(L.jsx)(m.a,{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(L.jsx)(m.a,{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})}),w.map((function(e,t){var a=f.find((function(t){return t._id===e.status}));return Object(L.jsx)(y.a,{children:Object(L.jsxs)(x.a,{children:[Object(L.jsx)(m.a,{children:t+1}),Object(L.jsx)(S.a,{size:"40",color:null===a||void 0===a?void 0:a.color}),Object(L.jsx)("h4",{children:null===a||void 0===a?void 0:a.status}),Object(L.jsx)(m.a,{children:e.report}),Object(L.jsx)(m.a,{children:Object(L.jsx)(be,{report:e})})]})})}))]})}),Object(L.jsxs)(Z.a,{children:[Object(L.jsx)("meta",{charSet:"utf-8"}),Object(L.jsx)("title",{children:"\u041e\u0431\u044a\u0435\u043a\u0442"}),Object(L.jsx)("link",{rel:"canonical",href:"http://localhost:5000/"})]})]})}var he=a(193),fe=Object(o.a)((function(e){return{adminDiv:{display:"flex",justifyContent:"space-between"},tableCont:{height:600,marginTop:"20px"},symbol:{width:e.spacing(5),height:e.spacing(5),backgroundColor:"black"},btn:{marginTop:"40px",marginBottom:"20px"},filter:{textDecoration:"none"},tableHead:{backgroundColor:"#674fffc3"},btnAdd:{marginTop:20,marginLeft:600}}}));var me=function(e){var t=fe(),a=Object(l.b)(),i=Object(l.c)((function(e){return e.statuses.items})),r=Object(l.c)((function(e){return e.statuses.loading})),o=c.a.useState(!1),j=Object(J.a)(o,2),u=j[0],p=j[1],O=Object(n.useState)(""),h=Object(J.a)(O,2),f=h[0],w=h[1],N=Object(n.useState)(""),T=Object(J.a)(N,2),A=T[0],R=T[1],E=function(){p(!1)};return Object(n.useEffect)((function(){a(k())}),[a]),r?Object(L.jsx)(W,{}):Object(L.jsxs)("div",{children:[Object(L.jsx)(he.a,{className:t.tableCont,component:s.a,children:Object(L.jsx)(ie.a,{container:!0,spacing:2,children:Object(L.jsxs)(ie.a,{item:!0,xs:12,children:[Object(L.jsxs)(g.a,{className:"table",children:[Object(L.jsx)(v.a,{className:t.tableHead,children:Object(L.jsxs)(x.a,{children:[Object(L.jsx)(m.a,{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(L.jsx)(m.a,{children:"\u0426\u0432\u0435\u0442"})]})}),Object(L.jsx)(y.a,{children:i.map((function(e,t){return Object(L.jsxs)(x.a,{children:[Object(L.jsx)(m.a,{children:Object(L.jsx)("h3",{children:e.status})}),Object(L.jsx)(S.a,{size:"40",color:null===e||void 0===e?void 0:e.color})]},t)}))})]}),Object(L.jsx)(C.a,{variant:"outlined",color:"primary",onClick:function(){p(!0)},className:t.btnAdd,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})]})})}),")}",Object(L.jsxs)(P.a,{open:u,onClose:E,"aria-labelledby":"form-dialog-title",children:[Object(L.jsx)(B.a,{id:"form-dialog-title",children:"\u041d\u043e\u0432\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"}),Object(L.jsxs)(M.a,{children:[Object(L.jsx)(V.a,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u0442\u0430\u0442\u0443\u0441\u0430"}),Object(L.jsx)(Y.a,{value:f,autoFocus:!0,margin:"dense",id:"name",label:"",type:"text",fullWidth:!0,onChange:function(e){w(e.target.value)}}),Object(L.jsx)(Y.a,{value:A,autoFocus:!0,margin:"dense",id:"name",label:"",type:"text",fullWidth:!0,onChange:function(e){R(e.target.value)}})]}),Object(L.jsxs)(G.a,{children:[Object(L.jsx)(C.a,{onClick:E,color:"primary",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(L.jsx)(C.a,{onClick:function(){var e;a((e={titleText:f,statColor:A},function(){var t=Object(b.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"statuses/post/pending"}),t.next=3,fetch("/api/admin/status",{method:"POST",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({status:e.titleText,color:e.statColor})});case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,a({type:"statuses/post/fulfilled",payload:c}),window.location.reload();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(){E()}))},color:"primary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})]})},xe=a(37),ge=a(14),ve=a(194),ye=a(195),we=a(196),Ce=a(95),Ne=a.n(Ce),ke=a(96),Se=a.n(ke),Te=a(104),Ae=Object(o.a)((function(e){return{grow:{flexGrow:1,backgroundColor:"#b8abab"},menuButton:{marginRight:e.spacing(2)},title:Object(xe.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(xe.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ge.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ge.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:"blue"},inputRoot:{color:"blue"},inputInput:Object(xe.a)({borderRadius:"solid",padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(xe.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(xe.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),toolbar:{backgroundColor:"#fff"},link:{textDecoration:"none"},active:{fontSize:20}}}));function Re(){var e=Object(l.b)(),t=Ae(),a=Object(H.f)().pathname,n=Object(l.c)((function(e){return e.objects.filter}));return Object(L.jsx)("div",{className:t.grow,children:Object(L.jsx)(ve.a,{position:"static",children:Object(L.jsxs)(ye.a,{className:t.toolbar,children:[Object(L.jsx)(R.b,{className:t.link,color:"inherit",to:"/",children:Object(L.jsx)($.a,{className:t.title,color:"primary",variant:"h6",noWrap:!0,children:"\u0418\u043d\u0442\u043e\u0421\u0442\u0440\u043e\u0439"})}),Object(L.jsx)("div",{className:t.grow}),Object(L.jsxs)("div",{className:t.search,children:[Object(L.jsx)("div",{className:t.searchIcon,children:Object(L.jsx)(Ne.a,{})}),Object(L.jsx)(Te.a,{value:n,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432\u2026",classes:{root:t.inputRoot,input:t.inputInput},onChange:function(t){return e({type:"objects/filter/fulfilled",payload:t.target.value})}})]}),Object(L.jsxs)("div",{className:t.sectionDesktop,children:[Object(L.jsx)(R.b,{className:t.link,color:"inherit",to:"/",children:Object(L.jsx)(C.a,{color:"primary",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(L.jsxs)(R.b,{className:t.link,color:"inherit",to:"/admin",children:["/admin"===a||"/status"===a?Object(L.jsx)(R.b,{color:"inherit",className:t.link,to:"/status",activeClassName:"active",children:Object(L.jsx)(C.a,{color:"primary",children:"\u0421\u0442\u0430\u0442\u0443\u0441\u044b"})}):null,Object(L.jsx)(C.a,{color:"primary",children:"\u0410\u0434\u043c\u0438\u043d\u043a\u0430"})]}),Object(L.jsx)(R.b,{className:t.link,to:"/about",children:Object(L.jsx)(C.a,{color:"primary",children:"\u041e \u043d\u0430\u0441"})})]}),Object(L.jsx)("div",{className:t.sectionMobile,children:Object(L.jsx)(we.a,{"aria-label":"show more","aria-haspopup":"true",color:"inherit",children:Object(L.jsx)(Se.a,{})})})]})})})}var Ee=function(){return Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(Re,{}),Object(L.jsxs)(H.c,{children:[Object(L.jsx)(H.a,{path:"/",exact:!0,children:Object(L.jsx)(F,{})}),Object(L.jsx)(H.a,{path:"/object/:id/report",children:Object(L.jsx)(Oe,{})}),Object(L.jsx)(H.a,{path:"/admin/",children:Object(L.jsx)(X,{})}),Object(L.jsx)(H.a,{path:"/about",children:Object(L.jsx)(te,{})}),Object(L.jsx)(H.a,{path:"/status",children:Object(L.jsx)(me,{})})]}),Object(L.jsxs)(Z.a,{children:[Object(L.jsx)("meta",{charSet:"utf-8"}),Object(L.jsx)("title",{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(L.jsx)("link",{rel:"canonical",href:"http://localhost:3000/"})]})]})},Le=a(71),De=a(97),We=a(98),Ie=Object(We.createLogger)({diff:!0,collapsed:!0}),_e=Object(Le.c)(Object(Le.b)({objects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"objects/load/pending":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"objects/load/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{items:t.payload,loading:!1});case"objects/delete/pending":return Object(p.a)(Object(p.a)({},e),{},{deleting:!0});case"objects/delete/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{deleting:!1,items:e.items.filter((function(e){return e._id!==t.payload}))});case"objects/post/pending":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"objects/post/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,items:[].concat(Object(u.a)(e.items),[t.payload])});case"objects/filter/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{filter:t.payload});default:return e}},reports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reports/load/pending":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"reports/load/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{items:t.payload,loading:!1});case"reports/edit/pending":return Object(p.a)(Object(p.a)({},e),{},{editing:!0});case"reports/edit/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{editing:!1,items:e.items.map((function(e){return e.id===t.payload.id?Object(p.a)(Object(p.a)({},e),t.payload.data):e}))});case"reports/delete/pending":return Object(p.a)(Object(p.a)({},e),{},{deleting:!0});case"reports/delete/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{deleting:!1,items:e.items.filter((function(e){return e.id!==t.payload}))});case"reports/post/pending":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"reports/post/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,items:[].concat(Object(u.a)(e.items),[t.payload])});default:return e}},statuses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"statuses/load/pending":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"statuses/load/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{items:t.payload,loading:!1});case"statuses/post/pending":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"statuses/post/fulfilled":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,items:[].concat(Object(u.a)(e.items),[t.payload])});default:return e}}}),Object(Le.a)(De.a,Ie));r.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(l.a,{store:_e,children:Object(L.jsx)(R.a,{children:Object(L.jsx)(Ee,{})})})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.d693a6a9.chunk.js.map